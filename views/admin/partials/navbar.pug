ul.navbar-nav.sidebar.sidebar-light.accordion#accordionSidebar
    a.sidebar-brand.d-flex.align-items-center.justify-content-center(href="#")
        .sidebar-brand-text.mx-3 Quản lý thư viện
    hr.sidebar-divider.my-0
    li.nav-item.active
        a.nav-link(href=`${prefixAdmin}/staff` type =`staff`)
            i.fa-solid.fa-users
            span Quản lý nhân viên
    li.nav-item
        a.nav-link.collapsed(href="#" data-toggle="collapse" data-target="#collapsePage" aria-expanded="true" aria-controls="collapsePage")
            i.fa-solid.fa-book
            span Quản lý đầu sách/sách 
        #collapsePage.collapse(aria-labelledby="headingPage" data-parent="#accordionSidebar")
            .bg-white.py-2.collapse-inner.rounded
                a.collapse-item(href=`${prefixAdmin}/isbn_book`) Quản lý
                a.collapse-item(href=`${prefixAdmin}/isbn_book/report?type=list`) Báo cáo danh mục
                a.collapse-item(href=`${prefixAdmin}/isbn_book/report?type=most-borrow`) Sách mượn nhiều nhất
    li.nav-item
        a.nav-link(href=`${prefixAdmin}/author` type =`author`)
            i.fa-solid.fa-user-pen
            span Danh sách tác giả
    li.nav-item
        a.nav-link.collapsed(href="#" data-toggle="collapse" data-target="#readerPage" aria-expanded="true" aria-controls="readerPage")
            i.fa-solid.fa-book-open-reader
            span Danh sách độc giả
        #readerPage.collapse(aria-labelledby="headingPage" data-parent="#accordionSidebar")
            .bg-white.py-2.collapse-inner.rounded
                a.collapse-item(href=`${prefixAdmin}/reader` type='reader') Quản lý
                a.collapse-item(href=`${prefixAdmin}/reader/report?type=list`) Báo cáo độc giả
                a.collapse-item(href=`${prefixAdmin}/reader/report?type=overdue`) Mượn sách quá hạn
    li.nav-item
        a.nav-link(href=`${prefixAdmin}/type` type="type")
            i.fa-solid.fa-font-awesome
            span Danh sách thể loại
    li.nav-item
        a.nav-link(href=`${prefixAdmin}/phieumuon`)
            i.fa-solid.fa-file-lines
            span Danh sách phiếu mượn

    script(src="/vendor/jquery/jquery.min.js")

    script.
        document.addEventListener('DOMContentLoaded', function() {
            const currentPath = window.location.pathname;
            const navLinks = document.querySelectorAll('.nav-item .nav-link');

            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            navLinks.forEach(link => {
                const href = link.getAttribute('href');

                if (href !== '#' && currentPath.includes(href)) {
                    link.closest('.nav-item').classList.add('active');
                }
            });
        });

    //-     $('.nav-link').on('click', function(e) {

    //-         console.log("Test")
    //-         const href = $(this).attr('href');
    //-         const type = $(this).attr('type');
    //-         console.log(type)
    //-         console.log(href)
            
            
    //-         if (!href.includes(`/${type}`)) {
    //-             e.preventDefault();
    //-             $.ajax({
    //-                 url: `/Library/admin/${type}/clear-undo`,
    //-                 method: 'POST',
    //-                 success: function(response) {
    //-                     if (response.success) {
    //-                         console.log('Undo stack cleared for type');
    //-                         window.location.href = href;
    //-                     } else {
    //-                         alert('Không thể xóa stack undo: ' + response.message);
    //-                     }
    //-                 },
    //-                     error: function() {
    //-                     alert('Có lỗi xảy ra khi xóa stack undo!');
    //-                     }
    //-             });
    //-         }
    //-   });

